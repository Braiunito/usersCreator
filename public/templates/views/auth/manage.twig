{% extends "base.html" %}

{% block head %}
<script type="module" src="/templates/assets/js/commonFunctions.js"></script>
<script type="module" src="/templates/assets/js/deleteManageUserAjax.js"></script>
<script type="module" src="/templates/assets/js/editManageUserAjax.js"></script>
<script type="module" src="/templates/assets/js/filterManageUsersAjax.js"></script>
<script type="module" src="/templates/assets/js/addManageUserAjax.js"></script>
{% endblock %}



{% block content %}

{# Delete user modal #}
<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="Confrim delete" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Delete user</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Are you sure that you want to delete this user?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
        <div data-id="user-id" class="btn btn-primary user-confirm-delete">Yes</div>
      </div>
    </div>
  </div>
</div>

{# Edit user modal #}
<div class="modal fade dark" id="editModal" tabindex="-1" role="dialog" aria-labelledby="Confrim update" aria-hidden="true"><div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Update user</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p> The fields that you keep empty will preserve the original data.</p>
      
        <table class="table table-dark">
            <thead>
                <tr>
                    <th scope="col">NAME</th>
                    <th scope="col">LAST NAME</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td> <input class="form-name" type="text" value=""></td>
                    <td> <input class="form-lastname" type="text" value=""></td>
                </tr>
            </tbody>
            <thead>
                <tr>
                    <th scope="col">EMAIL</th>
                    <th scope="col">PASSWORD</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td> <input type="email" class="form-email" type="text" value=""></td>
                    <td> <input class="form-pass" type="text" value=""></td>
                </tr>
            </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <div data-id="user-id" class="btn btn-primary user-confirm-edit">Update</div>
      </div>
    </div>
  </div>
</div>

{# Add user modal #}
<div class="modal fade dark" id="addModal" tabindex="-1" role="dialog" aria-labelledby="Confrim update" aria-hidden="true"><div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Add user</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>All the fields are required.</p>
      
        <table class="table table-dark">
            <thead>
                <tr>
                    <th scope="col">NAME</th>
                    <th scope="col">LAST NAME</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td> <input class="form-name" type="text" value=""></td>
                    <td> <input class="form-lastname" type="text" value=""></td>
                </tr>
            </tbody>
            <thead>
                <tr>
                    <th scope="col">EMAIL</th>
                    <th scope="col">PASSWORD</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td> <input type="email" class="form-email" type="text" value=""></td>
                    <td> <input class="form-pass" type="text" value=""></td>
                </tr>
            </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <div data-id="user-id" class="btn btn-primary user-confirm-add">Add</div>
      </div>
    </div>
  </div>
</div>


<h1 class="pb-3">Welcome to manage section {{ user.username }}!</h1>
<div class="d-none" role="alert" id="manageMsg"></div>

  <div class="manageContent">
    <div class="topContent d-flex">
      <div class="addBtn"> 
        <button type="button" class="btn btn-success add-button mb-3" data-user="{{ user.id }}" data-toggle="modal" data-target="#addModal">
            <i class="fas fa-user-plus"></i>
        </button>
      </div>
      <input class="form-control search-bar ml-sm-2" type="search" placeholder="Search" aria-label="Search">
  </div>
  <div class="usersTable truncate">
  </div>
</div>
{% endblock %}